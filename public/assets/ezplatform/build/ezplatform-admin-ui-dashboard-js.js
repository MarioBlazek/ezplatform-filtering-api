(window.webpackJsonp=window.webpackJsonp||[]).push([["ezplatform-admin-ui-dashboard-js"],{"0oW0":function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,i,a,c,s,l,u,d,f,w,h,p,v;o=window,i=window.document,a=window.eZ,c=window.React,s=window.ReactDOM,l=window.Translator,u=window.Routing,d=i.querySelectorAll(".btn--udw-browse"),f=i.getElementById("react-udw"),w=function(){return s.unmountComponentAtNode(f)},h=function(e){w(),o.location.href=u.generate("_ez_content_view",{contentId:e[0].ContentInfo.Content._id,locationId:e[0].id})},p=function(){return w()},v=function(e){e.preventDefault();var t=JSON.parse(e.currentTarget.dataset.udwConfig),o=l.trans("browse.title",{},"universal_discovery_widget");s.render(c.createElement(a.modules.UniversalDiscovery,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({onConfirm:h,onCancel:p,title:o,multiple:!1},t)),f)},d.forEach((function(e){return e.addEventListener("click",v,!1)}))},24:function(e,t,n){n("0oW0"),n("8oJl"),n("s7Kb"),n("Axjq"),e.exports=n("Ib1U")},"8oJl":function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,i,a,c,s,l,u,d,f,w,h,p,v;o=window,i=window.document,a=window.eZ,c=window.React,s=window.ReactDOM,l=window.Translator,u=window.Routing,d=i.querySelectorAll(".ez-btn--cotf-create"),f=i.getElementById("react-udw"),w=function(){return s.unmountComponentAtNode(f)},h=function(e){w(),o.location.href=u.generate("_ez_content_view",{contentId:e[0].ContentInfo.Content._id,locationId:e[0].id})},p=function(){return w()},v=function(e){e.preventDefault();var t=JSON.parse(e.currentTarget.dataset.udwConfig),o=l.trans("dashboard.create.title",{},"universal_discovery_widget");s.render(c.createElement(a.modules.UniversalDiscovery,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({onConfirm:h,onCancel:p,title:o,activeTab:"create",multiple:!1},t)),f)},d.forEach((function(e){return e.addEventListener("click",v,!1)}))},Axjq:function(e,t){var n,r,o,i,a,c,s;n=window,r=window.document,o=window.jQuery,i=window.eZ,a=window.Translator,c=window.Routing,s=function(e){var t=i.helpers.notification.showErrorNotification,s=e.currentTarget.dataset.contentDraftEditUrl,l=e.currentTarget.dataset.versionHasConflictUrl,u=e.currentTarget.dataset.contentId,d=e.currentTarget.dataset.languageCode,f=c.generate("ezplatform.content.check_edit_permission",{contentId:u,languageCode:d}),w=a.trans("content.edit.permission.error",{},"content");e.preventDefault(),fetch(f,{mode:"same-origin",credentials:"same-origin"}).then(i.helpers.request.getJsonFromResponse).then((function(e){if(e.canEdit)return fetch(l,{mode:"same-origin",credentials:"same-origin"});throw new Error(w)})).then((function(e){409===e.status&&(r.querySelector("#edit-conflicted-draft").href=s,o("#version-conflict-modal").modal("show")),403===e.status&&e.text().then(t),200===e.status&&(n.location.href=s)})).catch(t)},r.querySelectorAll(".ez-btn--content-draft-edit").forEach((function(e){return e.addEventListener("click",s,!1)}))},Ib1U:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r,o,i,a;r=window,o=document,i=window.eZ,a=function(){"use strict";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.toggler=t.container.querySelector(".ez-btn--translations-list-toggler"),this.translationsList=t.container.querySelector(".ez-translation-selector__list-wrapper"),this.hideTranslationsList=this.hideTranslationsList.bind(this),this.showTranslationsList=this.showTranslationsList.bind(this),this.setPosition=this.setPosition.bind(this)}var t,a,c;return t=e,(a=[{key:"setPosition",value:function(){var e=parseInt(this.translationsList.dataset.topOffset,10),t=window.scrollY>e?0:e-window.scrollY,n=window.scrollY>e?window.innerHeight:window.innerHeight+window.scrollY-e;this.translationsList.style.top="".concat(t,"px"),this.translationsList.style.height="".concat(n,"px")}},{key:"hideTranslationsList",value:function(e){var t=e.target.closest(".ez-translation-selector"),n=t&&t.isSameNode(this.container),i=e.target.closest(".ez-modal--version-draft-conflict");n||i||(this.translationsList.classList.add("ez-translation-selector__list-wrapper--hidden"),r.removeEventListener("scroll",this.setPosition,!1),o.removeEventListener("click",this.hideTranslationsList,!1))}},{key:"showTranslationsList",value:function(){this.translationsList.classList.remove("ez-translation-selector__list-wrapper--hidden"),this.setPosition(),r.addEventListener("scroll",this.setPosition,!1),o.addEventListener("click",this.hideTranslationsList,!1),i.helpers.tooltips.hideAll()}},{key:"init",value:function(){this.toggler.addEventListener("click",this.showTranslationsList,!1)}}])&&n(t.prototype,a),c&&n(t,c),e}(),o.querySelectorAll(".ez-translation-selector").forEach((function(e){new a({container:e}).init()}))},s7Kb:function(e,t){var n,r,o,i,a,c,s;window,n=window.document,r=window.jQuery,o=window.eZ,i=window.Translator,a=window.Routing,c=o.helpers.notification.showErrorNotification,s=function(e){var t=n.querySelector("form.ez-edit-content-form"),s=t.name,l=e.currentTarget.dataset,u=l.contentId,d=l.versionNo,f=l.languageCode,w=t.querySelector('input[name="'.concat(s,'[content_info]"]')),h=t.querySelector('input[name="'.concat(s,'[version_info][content_info]"]')),p=t.querySelector('input[name="'.concat(s,'[version_info][version_no]"]')),v=t.querySelector("#".concat(s,"_language_").concat(f)),g=a.generate("ezplatform.version_draft.has_no_conflict",{contentId:u,languageCode:f}),m=a.generate("ezplatform.content.check_edit_permission",{contentId:u,languageCode:f}),b=i.trans("content.edit.permission.error",{},"content"),y=function(){w.value=u,h.value=u,p.value=void 0!==d?d:null,v.checked=!0,t.submit()},O=function(){y(),r("#version-draft-conflict-modal").modal("hide")},E=function(e){var t=n.querySelector(".ez-modal-wrapper");t.innerHTML=e;var o=t.querySelector(".ez-btn--add-draft");o&&o.addEventListener("click",O,!1),t.querySelectorAll(".ez-btn--prevented").forEach((function(e){return e.addEventListener("click",(function(e){return e.preventDefault()}),!1)})),r("#version-draft-conflict-modal").modal("show")};e.preventDefault(),fetch(m,{mode:"same-origin",credentials:"same-origin"}).then(o.helpers.request.getJsonFromResponse).then((function(e){if(e.canEdit)return fetch(g,{mode:"same-origin",credentials:"same-origin"});throw new Error(b)})).then((function(e){409===e.status?e.text().then(E):403===e.status?e.text().then(c):200===e.status&&y()})).catch(c)},n.querySelectorAll(".ez-btn--content-edit").forEach((function(e){return e.addEventListener("click",s,!1)}))}},[[24,"runtime"]]]);